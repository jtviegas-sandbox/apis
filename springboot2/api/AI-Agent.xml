<?xml version="1.0" encoding="utf-8"?>
<ApplicationInsightsAgent>
    <Instrumentation>

        <!-- Collect remote dependency data -->
        <BuiltIn enabled="true">
            <!-- Disable Redis or alter threshold call duration above which arguments are sent.
                Defaults: enabled, 10000 ms -->
            <Jedis enabled="true" thresholdInMS="1000"/>
            <!-- Enable W3C distributed tracing -->
            <HTTP enabled="true" W3C="true" enableW3CBackCompat="true"/>
            <!-- Set SQL query duration above which query plan is reported (MySQL, PostgreSQL). Default is 10000 ms. -->
            <MaxStatementQueryLimitInMS>1000</MaxStatementQueryLimitInMS>

        </BuiltIn>

        <!-- Collect data about caught exceptions
             and method execution times -->

        <Class name="org.aprestos.labs.apis.springboot2.api.resources.Controller">
            <Method name="postProblem"
                    reportCaughtExceptions="true"
                    reportExecutionTime="true"
            />
            <!-- Report on the particular signature
                 void methodTwo(String, int) -->
            <Method name="getTask"
                    reportCaughtExceptions="true"
                    reportExecutionTime="true" />
        </Class>

    </Instrumentation>
</ApplicationInsightsAgent>